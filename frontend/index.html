<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sports Square</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville&family=Montserrat:wght@400;700&display=swap" rel="stylesheet"/>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7385129367264824" crossorigin="anonymous"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6CR81XMZN5"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-6CR81XMZN5');
  </script>

  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

  <script>
    // Your Firebase project configuration
    const firebaseConfig = {
      apiKey: "AIzaSyC-p_D5KgLbpMm_5REwdDaaq-YBrE3pwkk",
      authDomain: "sportssquare-b96ed.firebaseapp.com",
      databaseURL: "https://sportssquare-b96ed-default-rtdb.firebaseio.com", // Essential for Realtime DB
      projectId: "sportssquare-b96ed",
      storageBucket: "sportssquare-b96ed.firebasestorage.app",
      messagingSenderId: "844736978057",
      appId: "1:844736978057:web:76c8db520d3c27bdeb7a58"
    };
    // Initialize Firebase App
    firebase.initializeApp(firebaseConfig);

    // Get Firebase services instances (accessible globally in this script block)
    const auth = firebase.auth();
    // const db = firebase.database(); // Uncomment if directly used in this index.html script
    // const firestore = firebase.firestore(); // Uncomment if directly used in this index.html script
  </script>


  <style>
    body {
      background-color: rgb(249, 251, 231);
      font-family: 'Montserrat', sans-serif;
      text-align: center;
      padding: 50px;
    }
    nav ul {
      list-style-type: none;
      padding: 0;
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    .flex-section {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 40px;
      flex-wrap: wrap;
      margin-top: 20px;
    }
    .post-card {
      border: 1px solid black;
      padding: 20px;
      width: 300px;
      background-color: white;
      border-radius: 10px;
    }
    aside.poll-box {
      background: white;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
      font-family: 'Segoe UI', sans-serif;
      max-width: 300px;
      width: 100%;
    }
    #dashboardButton {
      position: absolute;
      top: 10px;
      left: 10px;
      background-color: #2ECC71;
      color: white;
      padding: 8px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      display: none; /* Hidden by default */
      z-index: 1000;
    }
  </style>
</head>

<body>
  <div style="text-align: center; display: flex; justify-content: center; align-items: center; gap: 20px; margin-bottom: 20px;">
        <h1 style="color:blue; margin: 0;">Sports Square</h1>
        <button onclick="location.href='./signup.html'" style="padding: 10px 20px; background-color: #2ECC71; color: white; padding: 10px 20px; font-size: 16px; font-weight: bold; border: none; border-radius: 6px; cursor: pointer;">Signup</button>
        <button onclick="location.href='./signup.html'" style="padding: 10px 20px; background-color: #2ECC71; color: white; padding: 10px 20px; font-size: 16px; font-weight: bold; border: none; border-radius: 6px; cursor: pointer;">Login</button>
    </div>
    <button id="dashboardButton">Dashboard</button>

  <input type="text" id="search" placeholder="Search for posts..." style="width: 300px; padding: 10px; margin-bottom: 20px;">

  <script>
    // Search bar functionality
    document.getElementById('search').addEventListener('keypress', function (event) {
      if (event.key === 'Enter') {
        const search = this.value.toLowerCase();
        if (["so longpops", "so long pops", "solongpops", "solong pops"].includes(search)) {
          window.location.href = './posts/so-long-pops.html';
        } else if (["smayan", "smayan srikanth"].includes(search)) {
          window.location.href = './posts/smayan.html';
        } else if (["sports calendar", "calendar"].includes(search)) {
          window.location.href = './sportscalendar.html';
        } else if (["dashboard"].includes(search)) {
          console.log('Search for "dashboard" entered! Attempting redirect to /frontend/editor.html'); // Debug log
          window.location.href = '/frontend/editor.html'; // Redirect to your editor page
        } else if (["subscribed"].includes(search)) {
          window.location.href = './subscribed.html';
        }
        else if (["careers"].includes(search)) {
          window.location.href = './careers.html';
        } else if (search) {
          alert('No results found for: ' + search);
        }
        else if (["home", "index"].includes(search)) {
          window.location.href = './index.html';
        }
        else if (["tags", "posts"].includes(search)) {
          window.location.href = './tags.html';
        }
        else if (["about"].includes(search)) {
          window.location.href = './about.html';
        }
        else if (["contact"].includes(search)) {
          window.location.href = './contact.html';
        }
        else if (["collaborations"].includes(search)) {
          window.location.href = './collaborations.html';
        }
        else if (["subscriber chat", "subscriberchat"].includes(search)) {
          window.location.href = './subscriberchat.html';
        }
        else if (["sitemap"].includes(search)) {
          window.location.href = './sitemap.html';
        }
        else if (["latest sports updates", "latestsmupdates"].includes(search)) {
          window.location.href = './latestsmupdates.html';
        }
        else if (["editor", "rich text editor"].includes(search)) {
          window.location.href = './editor.html';
        }
        else if (["nfl"].includes(search)) {
          window.location.href = './nfl.html';
        }
        else if (["mlb"].includes(search)) {
          window.location.href = './mlb.html';
        }
        else if (["nba"].includes(search)) {
          window.location.href = './nba.html';
        }
        else if (["subscriber dashboard", "subdash"].includes(search)) {
          window.location.href = './subdash.html';
        }
        else if (["admin notification panel", "adminnoti"].includes(search)) {
          window.location.href = './adminnoti.html';
        }
        else if (["signup"].includes(search)) {
          window.location.href = './signup.html';
        }
        else if (["login"].includes(search)) {
          window.location.href = './signup.html';
        }
        else if (["sports square"].includes(search)) {
          window.location.href = './index.html';
        }
        else if (["sports square news"].includes(search)) {
          window.location.href = './index.html';
        }
        else if (["sports square author"].includes(search)) {
          window.location.href = './posts/smayan.html';
        }
        else if (["sports square editor"].includes(search)) {
          window.location.href = './editor.html';
        }
        else if (["sports square calendar", "sports square sportscalendar"].includes(search)) {
          window.location.href = './sportscalendar.html';
        }
        else if (["sports square careers"].includes(search)) {
          window.location.href = './careers.html';
        }
        else if (["sports square subscribed"].includes(search)) {
          window.location.href = './subscribed.html';
        }
        else if (["sports square subscriber chat", "sports square subscriberchat"].includes(search)) {
          window.location.href = './subscriberchat.html';
        }
        else if (["sports square collaborations"].includes(search)) {
          window.location.href = './collaborations.html';
        }
        else if (["sports square contact"].includes(search)) {
          window.location.href = './contact.html';
        }
        else if (["sports square tags", "sports square posts"].includes(search)) {
          window.location.href = './tags.html';
        }
        else if (["sports square sitemap"].includes(search)) {
          window.location.href = './sitemap.html';
        }
        else if (["sports square latest sports updates", "sports square latestsmupdates"].includes(search)) {
          window.location.href = './latestsmupdates.html';
        }
        else if (["sports square subscriber dashboard", "sports square subdash"].includes(search)) {
          window.location.href = './subdash.html';
        }
        else if (["sports square admin notification panel", "sports square adminnoti"].includes(search)) {
          window.location.href = './adminnoti.html';
        }
        else if (["sports square editor", "sports square rich text editor"].includes(search)) {
          window.location.href = './editor.html';
        }
        else if (["sports square nfl"].includes(search)) {
          window.location.href = './nfl.html';
        }
        else if (["sports square mlb"].includes(search)) {
          window.location.href = './mlb.html';
        }
        else if (["sports square nba"].includes(search)) {
          window.location.href = './nba.html';
        }
        else if (["sports square signup"].includes(search)) {
          window.location.href = './signup.html';
        }
        else if (["sports square login"].includes(search)) {
          window.location.href = './signup.html';
        }
        else if (["sports square sports square"].includes(search)) {
          window.location.href = './index.html';
        }
        else if (["sports square sports square news"].includes(search)) {
          window.location.href = './index.html';
        }
        else if (["sports square sports square author"].includes(search)) {
          window.location.href = './posts/smayan.html';
        }
        else if (["sports square sports square editor"].includes(search)) {
          window.location.href = './editor.html';
        }
        else if (["sports square sports square calendar", "sports square sports square sportscalendar"].includes(search)) {
          window.location.href = './sportscalendar.html';
        }
        else if (["sports square sports square careers"].includes(search)) {
          window.location.href = './careers.html';
        }
        else if (["sports square sports square subscribed"].includes(search)) {
          window.location.href = './subscribed.html';
        }
        else if (["sports square sports square subscriber chat", "sports square sports square subscriberchat"].includes(search)) {
          window.location.href = './subscriberchat.html';
        }
        else if (["sports square sports square collaborations"].includes(search)) {
          window.location.href = './collaborations.html';
        }
        else if (["sports square sports square contact"].includes(search)) {
          window.location.href = './contact.html';
        }
        else if (["sports square sports square tags", "sports square sports square posts"].includes(search)) {
          window.location.href = './tags.html';
        }
        else if (["sports square sports square sitemap"].includes(search)) {
          window.location.href = './sitemap.html';
        }
        else if (["sports square sports square latest sports updates", "sports square sports square latestsmupdates"].includes(search)) {
          window.location.href = './latestsmupdates.html';
        }
        else if (["sports square sports square subscriber dashboard", "sports square sports square subdash"].includes(search)) {
          window.location.href = './subdash.html';
        }
        else if (["sports square sports square admin notification panel", "sports square sports square adminnoti"].includes(search)) {
          window.location.href = './adminnoti.html';
        }
        else if (["sports square sports square editor", "sports square sports square rich text editor"].includes(search)) {
          window.location.href = './editor.html';
        }
        else if (["sports square sports square nfl"].includes(search)) {
          window.location.href = './nfl.html';
        }
        else if (["sports square sports square mlb"].includes(search)) {
          window.location.href = './mlb.html';
        }
        else if (["sports square sports square nba"].includes(search)) {
          window.location.href = './nba.html';
        }
        else if (["sports square sports square signup"].includes(search)) {
          window.location.href = './signup.html';
        }
        else if (["sports square sports square login"].includes(search)) {
          window.location.href = './signup.html';
        }
        else {
          alert('No results found for: ' + search);
        }
        this.value = ''; // Clear the search input
      }
    });

    // Dashboard button logic
    const dashboardButton = document.getElementById('dashboardButton');
    const ADMIN_UID = 'ibLtQvJhIPN2icV7IyB1IUIgzN12'; // Your specific admin UID

    // Listen for authentication state changes to show/hide the button
    auth.onAuthStateChanged(user => {
      if (user && user.uid === ADMIN_UID) {
        dashboardButton.style.display = 'block'; // Show the button
        console.log('Dashboard button should be visible. User is admin.'); // Debug log
      } else {
        dashboardButton.style.display = 'none'; // Hide the button
        console.log('Dashboard button hidden. User is not admin or not logged in.'); // Debug log
      }
    });

    // Add click event listener to the dashboard button for redirection
    dashboardButton.addEventListener('click', () => {
      console.log('Dashboard button clicked! Attempting redirect to /frontend/editor.html'); // Debug log
      window.location.href = 'sportssquare.netlify.app/editor'; // Redirect to your editor page
    });
  </script>

  <nav style="margin: 20px 0; background-color: rgb(255, 208, 0);">
    <ul>
      <li><a href="./index.html">Home</a></li>
      <li><a href="./tags.html">Posts</a></li>
      <li><a href="./sportscalendar.html">Calendar</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="collaborations.html">Collaborations</a></li>
      <li><a href="./careers.html">Careers</a></li>
      <li><a href="./subscriberchat.html">Subscriber Chat</a></li>
    </ul>
  </nav>

  <div id="hero" style="border: 3px solid black; padding: 20px; margin: 20px auto; width: 80%; max-width: 600px; background-color: white; border-radius: 10px;">
    <h2>Where Sports Meet Their Match</h2>
    <h3>Fresh takes, game-day insights, and behind-the-scenes sports stories — straight to your inbox.</h3>
    <h2><em>Join the Square</em></h2>
    <form action="https://formsubmit.co/sportssquareauthor@gmail.com" method="POST">
      <input type="email" name="email" placeholder="Your email" required style="width: 300px; padding: 10px; margin-bottom: 10px;">
      <input type="hidden" name="_next" value="https://sportssquare.netlify.app/subscribed">
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" name="_subject" value="New subscription from Sports Square">
      <input type="hidden" name="_message" value="A new user has subscribed to Sports Square.">
      <br>
      <button type="submit" style="width:200px; height: 150px; background-color: #2ECC71; color: white; padding: 10px 20px; font-size: 16px; font-weight: bold; border: none; border-radius: 6px; cursor: pointer;">Subscribe</button>
    </form>
  </div>

  <hr style="border: 1px solid black; margin: 40px 0;">

  <figure>
    <h1>FEATURED:</h1>
    <a href="./posts/so-long-pops.html" style="color:blue"><h2>So Long Pops</h2></a>
    <a href="./posts/so-long-pops.html" style="color:black">
      <h4>From Air Force Cadet to NBA Legend: The Unmatched Legacy of Coach Popovich</h4>
      <img src="./image.png" alt="Sports Square Logo" style="height: 270px; margin-bottom: 20px;">
      <figcaption>For nearly three decades, Gregg Popovich wasn't just coaching basketball — he was redefining it. From humble beginnings at a tiny DIII college to five NBA titles and Olympic gold, Pop's journey is a masterclass in leadership, grit, and principle.</figcaption>
    </a>
    <p>By: <a href="./posts/so-long-pops.html">Smayan Srikanth</a></p>
  </figure>

  <hr style="border: 1px solid black; margin: 40px 0;">

  <nav style="display: flex; justify-content: center; gap: 1rem; margin: 2rem 0;">
    <button onclick="location.href='./nfl.html'" style="width: 200px; height: 50px;">NFL</button>
    <button onclick="location.href='./mlb.html'" style="width: 200px; height: 50px;">MLB</button>
    <button onclick="location.href='./nba.html'" style="width: 200px; height: 50px;">NBA</button>
  </nav>

  <hr style="border: 1px solid black; margin: 40px 0;">

  <h2>Latest Posts</h2>

  <div class="flex-section">
    <div class="post-card">
      <h3><a href="./posts/so-long-pops.html" style="color:blue">So Long Pops</a></h3>
      <p>From Air Force Cadet to NBA Legend: The Unmatched Legacy of Coach Popovich</p>
      <p>By: <a href="./posts/smayan.html">Smayan Srikanth</a></p>
    </div>

    <aside class="poll-box">
      <h3 style="font-size: 1.2rem; margin-bottom: 0.5rem;">🏀 Fan Poll</h3>
      <p style="margin-bottom: 1rem;">Who will win the NBA Finals?</p>

      <form id="pollForm" style="display: flex; flex-direction: column; gap: 0.5rem;">
        <label><input type="radio" name="vote" value="O1"> Thunder</label>
        <label><input type="radio" name="vote" value="O3"> Pacers</label>

        <button type="submit" style="margin-top: 1rem; padding: 0.5rem; background-color: #2ecc71; color: white; border: none; border-radius: 4px; cursor: pointer;">Vote</button>
      </form>

      <div id="pollResult" style="margin-top: 1rem; font-size: 0.95rem; color: #2d3436;"></div>
      <div id="pollCounts" style="margin-top: 1rem; font-size: 0.95rem; color: #34495e;"></div>
    </aside>
  </div>

  <hr style="border: 1px solid black; margin: 40px 0;">

    <footer style="margin-top: 40px; padding: 20px; background-color: rgb(255, 208, 0);">
        <p>© 2025 Sports Square. All rights reserved.</p>
        <p>Follow us on <a href="https://twitter.com/sportssquare" target="_blank">Twitter</a></p>
    </footer>

  <script>
    // Google Sheets Poll Form Logic
    const form = document.getElementById('pollForm');
    const resultDiv = document.getElementById('pollResult');
    const countsDiv = document.getElementById('pollCounts');
    const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwWyaj5EOkvdBZ_CUAI8AT9k41u2ovK3F-q0XlCvCwyLv4REagM0dydH57WJP5iCINj/exec';

    form.addEventListener('submit', function(event) {
      event.preventDefault();
      const selected = document.querySelector('input[name="vote"]:checked');
      if (!selected) {
        resultDiv.textContent = '⚠️ Please select an option before submitting.';
        return;
      }

      fetch(GOOGLE_SCRIPT_URL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: `vote=${encodeURIComponent(selected.value)}`
      })
      .then(response => response.json())
      .then(data => {
        if (data.status === 'success') {
          resultDiv.textContent = '✅ Thanks for voting! Your vote has been recorded.';
          form.style.display = 'none';
          fetchResults();
        } else {
          resultDiv.textContent = '⚠️ There was an error submitting your vote.';
        }
      })
      .catch(() => {
        resultDiv.textContent = '⚠️ Sorry, could not submit your vote.';
      });
    });

    function fetchResults() {
      fetch(GOOGLE_SCRIPT_URL)
        .then(response => response.json())
        .then(counts => {
          countsDiv.innerHTML = `
            🗳️ Current Results:<br>
            • Thunder: ${counts.O1}<br>
            • Pacers: ${counts.O3}
          `;
        })
        .catch(() => {
          countsDiv.textContent = '⚠️ Unable to load current results.';
        });
    }

    fetchResults();
    setInterval(fetchResults, 30000);
  </script>
  <script src="./notifications.js"></script>
  <footer style="margin-top: 20px;">
    <p>&copy; 2025 Sports Square. All rights reserved.</p>
    <p>Follow us on <a href="https://x.com/Sports__Square" target="_blank">X</a></p>
</footer>
<p><a href="./sitemap.html">Sitemap</p></a>
</body>
</html>